import{_ as z,o as v,c as g,a as l,d as W,b as I,w as Y,n as j,F as A,r as U,h as ne,i as o,x as ie,y as de,l as J,z as Z,A as X,B as ee,p as H,C as ue,D as ce,I as Q,E as me,G,H as pe,J as ve,K as q,L as ge,M as _e,N as he,O as fe,P as k,Q as B,R as ye,S as V,g as a,T as x,U as R,j as T,V as be,W as Ve,f as K,t as xe}from"./index-c8EmFYNS.js";import{g as we}from"./subCategories-service-kvpEIpw4.js";import{u as ke}from"./useQuery-diit9zOu.js";import{_ as Ie}from"./ImageUpload.vue_vue_type_script_setup_true_lang-oT0zF6Ug.js";import{p as Ce}from"./pathToFile-C8mbCNB7.js";import{V as Pe}from"./VAutocomplete-8cUBUDpg.js";import{m as $e,V as le,a as Se,b as Ne}from"./VSelectionControl-UDC2vv3o.js";import{V as Re,a as Te}from"./filter-7s9Z3Opi.js";const F={MALE:1,FEMALE:2,BOTH:3},Ae={},Be={class:"w-4 h-4 stroke-white",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Le=l("g",{"clip-path":"url(#clip0_429_10979)"},[l("path",{d:"M6 12H18","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Oe=l("defs",null,[l("clipPath",{id:"clip0_429_10979"},[l("rect",{width:"24",height:"24",fill:"white"})])],-1),Ee=[Le,Oe];function Fe(e,_){return v(),g("svg",Be,Ee)}const Me=z(Ae,[["render",Fe]]),Ue={},He={class:"w-6 h-6 fill-gray-500",width:"800px",height:"800px",viewBox:"0 0 1920 1920",xmlns:"http://www.w3.org/2000/svg"},Ge=l("path",{d:"M1225.982 926.244c27.296 18.796 27.3 49.269 0 68.067l-509.836 351.074c-27.296 18.797-49.424 7.18-49.424-25.959V601.13c0-33.133 22.125-44.757 49.424-25.959l509.836 351.074Z","fill-rule":"evenodd"},null,-1),ze=[Ge];function De(e,_){return v(),g("svg",He,ze)}const je=z(Ue,[["render",De]]),Je=e=>(ie("data-v-1533508c"),e=e(),de(),e),Qe=Je(()=>l("p",null,"الألوان *",-1)),qe={class:"grid grid-cols-7"},Ke=["onClick"],We={key:0,class:"text-lg text-center"},Ye={class:"mt-8 flex gap-4 relative"},Ze=["onClick"],Xe=W({__name:"ColorPicker",props:{hexCodesProp:{}},emits:["passHexcodes"],setup(e,{emit:_}){const r=e,h=_,s=I([]),c=I(!1),d=I(["red","blue","white","Black","Yellow","Orange","Brown","Purple","Pink","green","gray"]),f=m=>{s.value.push(m),d.value=d.value.filter(p=>p!==m),h("passHexcodes",s.value)},w=(m,p)=>{s.value&&(s.value.length<2?s.value.splice(p,1):s.value=s.value.filter(i=>i!==m)),d.value.push(m)};return Y(()=>{r.hexCodesProp&&(s.value=r.hexCodesProp,d.value=d.value.filter(m=>{var p;return(p=r.hexCodesProp)==null?void 0:p.every(i=>i!==m)}))}),(m,p)=>(v(),g(A,null,[l("div",{class:"w-1/2 flex justify-between relative px-3 border border-gray-500 hover:border-gray-700 rounded-[4px] h-[3.49rem] items-center cursor-pointer text-gray-500",onClick:p[0]||(p[0]=i=>c.value=!c.value)},[Qe,l("ul",{class:j(["dark:text-gray-300 bg-gray-50 absolute right-0 top-14 w-full rounded-[4px] p-3 dark:bg-[#3a3a3a] shadow-full-white dark:border border-gray-600 transition-all duration-200 z-50",{profileVisible:c.value,profileNotVisible:!c.value}])},[l("div",qe,[(v(!0),g(A,null,U(d.value,(i,u)=>(v(),g("li",{key:u,class:"hover:bg-gray-200 dark:hover:bg-dark p-2 rounded-md cursor-pointer",onClick:y=>f(i)},[l("div",{class:"w-14 h-14 mx-auto rounded-[50%] shadow-full-white border-2",style:J({"background-color":i})},null,4)],8,Ke))),128))]),d.value.length===0?(v(),g("li",We," لقد حددت كل الألوان ")):ne("",!0)],2),l("div",{class:j([c.value?"-rotate-90":"rotate-90","duration-200 transition-all"])},[o(je)],2)]),l("div",Ye,[(v(!0),g(A,null,U(s.value,(i,u)=>(v(),g("div",{key:u,class:"w-14 h-14 rounded-[50%] shadow-full-white flex items-end",style:J({"background-color":i})},[l("div",{class:"bg-red-700 w-6 h-6 grid place-content-center rounded-[50%] relative -bottom-4 shadow-full-white border border-neutral-300 cursor-pointer",onClick:y=>w(i,u)},[o(Me)],8,Ze)],4))),128))])],64))}}),el=z(Xe,[["__scopeId","data-v-1533508c"]]),ll=Z({...$e({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),M=X()({name:"VRadio",props:ll(),setup(e,_){let{slots:r}=_;return ee(()=>o(le,H(e,{class:["v-radio",e.class],style:e.style,type:"radio"}),r)),{}}}),ol=Z({height:{type:[Number,String],default:"auto"},...ue(),...ce(Se(),["multiple"]),trueIcon:{type:Q,default:"$radioOn"},falseIcon:{type:Q,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),tl=X()({name:"VRadioGroup",inheritAttrs:!1,props:ol(),emits:{"update:modelValue":e=>!0},setup(e,_){let{attrs:r,slots:h}=_;const s=me(),c=G(()=>e.id||`radio-group-${s}`),d=pe(e,"modelValue");return ee(()=>{const[f,w]=ve(r),m=q.filterProps(e),p=le.filterProps(e),i=h.label?h.label({label:e.label,props:{for:c.value}}):e.label;return o(q,H({class:["v-radio-group",e.class],style:e.style},f,m,{modelValue:d.value,"onUpdate:modelValue":u=>d.value=u,id:c.value}),{...h,default:u=>{let{id:y,messagesId:L,isDisabled:C,isReadonly:P}=u;return o(A,null,[i&&o(ge,{id:y.value},{default:()=>[i]}),o(Ne,H(p,{id:y.value,"aria-describedby":L.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:C.value,readonly:P.value,"aria-labelledby":i?y.value:void 0,multiple:!1},w,{modelValue:d.value,"onUpdate:modelValue":$=>d.value=$}),h)])}})}),{}}}),al={class:"grid md:grid-cols-2 xl:grid-cols-3 gap-x-8 gap-y-2 mt-6"},sl=l("p",{class:"text-xl mb-4"}," الجنس ",-1),rl={class:"mt-10"},nl=l("h3",{class:"text-xl"}," الصور ",-1),il=l("p",{class:"mt-2"}," يمكنك رفع ما يصل إلي 4 صور لهذا المنتج، اذا كانت هناك صورة فيمكنك تبديلها بالضغط واختيار صورة اخرى ",-1),dl={class:"mt-8 grid grid-cols-4 gap-4"},ul={class:"mt-3"},yl=W({__name:"ProductForm",props:{isLoading:{type:Boolean},product:{}},emits:["submit"],setup(e,{emit:_}){const r=e,h=_,s=_e([null,null,null,null]),c=I([]),d=I("empty"),f=G(()=>!!r.product);G(()=>!y.value.valid||d.value=="empty");const w=I({page:1,limit:50}),m=ke({queryKey:["sub-categories",w],queryFn:()=>we(w.value)}),p=he(fe({name:f.value?k():k().min(1,"يجب إدخال إسم المنتج "),product_code:f.value?k():k().min(1,"يجب إدخال رمز المنتج "),description:f.value?k():k().min(1,"يجب إدخال التفاصيل  "),sub_category_id:B().min(1,"يجب إختيار التصنيف"),price:B().min(1,"يجب إدخال السعر"),inventory_level:B().min(1,"يجب إدخال الكمية"),gender:B().min(1,"يجب إدخال الجنس")})),{handleSubmit:i,errors:u,meta:y,setValues:L}=ye({validationSchema:p}),{value:C}=V("name"),{value:P}=V("product_code"),{value:$}=V("description"),{value:O}=V("sub_category_id"),{value:S}=V("price"),{value:N}=V("inventory_level"),{value:E}=V("gender");Y(()=>{r.product&&(L({...r.product,sub_category_id:r.product.category_id}),c.value=JSON.parse(r.product.hex_codes),Ce(r.product.image1_path,r.product.image1_path.substring(r.product.image1_path.lastIndexOf("/")+1)).then(b=>s[1]=b))});const oe=()=>{S.value=Number(S.value)},te=()=>{N.value=Number(N.value)},D=i(b=>{h("submit",{...b,image1_path:s[0],image2_path:s[1],image3_path:s[2],image4_path:s[3],hex_codes:JSON.stringify(c.value)})}),ae=(b,n,t)=>{t&&(s[t-1]=b),d.value=s.every(re=>re)?"filled":"empty"},se=b=>{c.value=b};return(b,n)=>(v(),g("form",{onSubmit:n[7]||(n[7]=Ve((...t)=>a(D)&&a(D)(...t),["prevent"]))},[l("div",al,[o(R,{modelValue:a(C),"onUpdate:modelValue":n[0]||(n[0]=t=>x(C)?C.value=t:null),label:"إسم المنتج",variant:"outlined",color:"primary",placeholder:"إسم المنتج","error-messages":a(u).name},null,8,["modelValue","error-messages"]),o(Pe,{modelValue:a(O),"onUpdate:modelValue":n[1]||(n[1]=t=>x(O)?O.value=t:null),"hide-no-data":!1,"item-title":"name","item-value":"id",items:a(m).data.value,loading:a(m).isPending.value,"hide-selected":"",label:"التصنيفات",placeholder:"التصنيفات",variant:"outlined",color:"primary","auto-select-first":"","error-messages":a(u).sub_category_id},{"no-data":T(()=>[o(Re,null,{default:T(()=>[o(Te,null,{default:T(()=>[K(" لا توجد نتائج ")]),_:1})]),_:1})]),_:1},8,["modelValue","items","loading","error-messages"]),o(R,{modelValue:a(P),"onUpdate:modelValue":n[2]||(n[2]=t=>x(P)?P.value=t:null),label:"رمز المنتج",variant:"outlined",color:"primary",placeholder:"رمز المنتج","error-messages":a(u).product_code},null,8,["modelValue","error-messages"]),o(R,{modelValue:a(S),"onUpdate:modelValue":n[3]||(n[3]=t=>x(S)?S.value=t:null),label:"السعر",type:"number",variant:"outlined",color:"primary",placeholder:"السعر","error-messages":a(u).price,onInput:oe},null,8,["modelValue","error-messages"]),o(R,{modelValue:a(N),"onUpdate:modelValue":n[4]||(n[4]=t=>x(N)?N.value=t:null),label:"الكمية",type:"number",variant:"outlined",color:"primary",placeholder:"الكمية","error-messages":a(u).inventory_level,onInput:te},null,8,["modelValue","error-messages"]),o(R,{modelValue:a($),"onUpdate:modelValue":n[5]||(n[5]=t=>x($)?$.value=t:null),label:"التفاصيل",type:"text",variant:"outlined",color:"primary",placeholder:"التفاصيل","error-messages":a(u).description},null,8,["modelValue","error-messages"]),l("div",null,[sl,o(tl,{modelValue:a(E),"onUpdate:modelValue":n[6]||(n[6]=t=>x(E)?E.value=t:null),inline:""},{default:T(()=>[o(M,{label:"أولاد",value:a(F).MALE,color:"#00658D"},null,8,["value"]),o(M,{label:"بنات",value:a(F).FEMALE,color:"#A13763"},null,8,["value"]),o(M,{label:"كلاهما",value:a(F).BOTH,color:"primary"},null,8,["value"])]),_:1},8,["modelValue"])])]),l("div",null,[o(el,{"hex-codes-prop":c.value,onPassHexcodes:se},null,8,["hex-codes-prop"])]),l("div",rl,[nl,il,l("div",dl,[(v(),g(A,null,U(4,t=>o(Ie,{key:t,index:t,onHandleImage:ae},null,8,["index"])),64))])]),l("div",ul,[o(be,{disabled:!a(y).valid,size:"large",variant:"elevated",color:"primary",type:"submit",loading:r.isLoading},{default:T(()=>[K(xe(f.value?"تعديل منتج":"إضافة منتج"),1)]),_:1},8,["disabled","loading"])])],32))}});export{yl as _};
