import{_ as I,U as k,t as w}from"./pathToFile-C8mbCNB7.js";import{_ as U}from"./DeleteIcon.vue_vue_type_script_setup_true_lang-19TRQ0DL.js";import{d as x,b as r,w as C,c as i,a as d,i as c,h as g,o as u}from"./index-c8EmFYNS.js";var E={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const B={key:1,class:"relative rounded-lg h-64"},P=["src"],j=x({__name:"ImageUpload",props:{imagePath:{},index:{}},emits:["handleImage"],setup(p,{emit:v}){const a=p,m=v,l=r(null),t=r(!1),e=r(""),o=r(null),h=s=>{var f;t.value=!0;const n=(f=s.target.files)==null?void 0:f[0];n&&w(n).then(b=>{t.value=!1,e.value=b,o.value=n,m("handleImage",o.value,"filled",a.index)})},_=()=>{l.value.click()},y=()=>{e.value="",l.value&&(l.value.value=""),o.value=null,m("handleImage",o.value,"empty",a.index)};return C(()=>{if(a.imagePath){const s=E.VITE_API_Storage;e.value=`${s}/${a.imagePath}`}}),(s,n)=>(u(),i("div",null,[d("input",{ref_key:"fileUpload",ref:l,class:"hidden",type:"file",accept:"image/*",onChange:h},null,544),!e.value&&!t.value?(u(),i("div",{key:0,class:"flex justify-center items-center bg-white rounded-lg h-64 border-2 border-slate-200 shadow-md hover:-translate-y-2 transition-all delay-100 cursor-pointer",onClick:_},[c(k)])):g("",!0),e.value?(u(),i("div",B,[d("img",{class:"rounded-lg border-4 border-gray-200 h-64 w-full object-cover object-center shadow-md",src:e.value,alt:"uploaded image"},null,8,P),d("div",{class:"absolute top-1 right-2 bg-gray-200 p-1 rounded-md hover:-translate-y-1 transition-all delay-150 cursor-pointer border-2 border-gray-400",onClick:y},[c(U,{fill:"fill-black","custom-style":"w-7 h-7"})])])):g("",!0),c(I,{"is-loading":t.value,"custom-style":"animate-spin m-auto h-8 w-8 text-gray-400"},null,8,["is-loading"])]))}});export{j as _};
