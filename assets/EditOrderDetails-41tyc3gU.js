import{_ as h}from"./OrderDetails.vue_vue_type_script_setup_true_lang-fRwTrUNf.js";import{_ as k}from"./DeleteIcon.vue_vue_type_script_setup_true_lang-19TRQ0DL.js";import{d as C,M as q,v as x,u as F,e as w,k as B,j as o,g as $,o as i,c as d,r as E,a as m,t as s,i as a,U as c,V as n,Y as S,Z as U,f as N,F as O,s as Q}from"./index-c8EmFYNS.js";import{u as D}from"./useQuery-diit9zOu.js";import{b as M,p as P}from"./check-status-LNJt3dju.js";import{V as T,a as K,b as R,c as j}from"./VDialog-wyLMp0R1.js";import{V as z}from"./VSpacer-LceoUdPZ.js";import"./queryString-AL1HqB06.js";import"./createSimpleFunctional-gvfQdlSX.js";import"./VAvatar-_g8D_ewF.js";const H={class:"border-b-2 border-neutral-600 pb-1 w-fit"},L={class:"flex items-start gap-6"},re=C({__name:"EditOrderDetails",setup(Y){const p=q([{id:1,item:"سرير مواليد Happy Baby",quantity:1,price:199},{id:2,item:"مناشف اطفال",quantity:3,price:20}]),f=(t,l)=>`هل تريد حذف  ${t} من الطلبية  ${l} ؟`,y=x(),u=Number(y.params.id),_=D({queryKey:["order"],queryFn:()=>M(u)}),V=F(),b=w({mutationFn:({id:t,body:l})=>P(t,l),onSuccess:()=>{Q.replace({name:"orders"}),V.invalidateQueries({queryKey:["orders"]})},onError:t=>{console.log(t)}}),g=t=>{b.mutate({body:t,id:u})};return(t,l)=>(i(),B(h,{order:$(_).data.value,onSubmit:g},{default:o(()=>[(i(!0),d(O,null,E(p,e=>(i(),d("div",{key:e.id,class:"grid grid-cols-3 items-start px-8 py-3"},[m("p",H,s(e.item),1),a(c,{modelValue:e.quantity,"onUpdate:modelValue":r=>e.quantity=r,class:"w-32",label:"الكمية",type:"number",variant:"outlined",color:"primary",placeholder:"الكمية"},null,8,["modelValue","onUpdate:modelValue"]),m("div",L,[a(c,{modelValue:e.price,"onUpdate:modelValue":r=>e.price=r,class:"w-32",label:"السعر",type:"number",variant:"outlined",color:"primary",placeholder:"السعر"},null,8,["modelValue","onUpdate:modelValue"]),a(j,{width:"500"},{activator:o(({props:r})=>[a(n,S(U(r)),{default:o(()=>[a(k,{fill:"fill-black","custom-style":"w-7 h-7 cursor-pointer"})]),_:2},1040)]),default:o(({isActive:r})=>[a(T,{title:f(e.item,e.id),rounded:"lg",color:"#EFE9F5",style:{"padding-block":"1.75rem !important"}},{default:o(()=>[a(K,null,{default:o(()=>[N(" سيتم حذف عدد "+s(e.quantity)+" "+s(e.quantity===1?"عنصر":"عناصر")+" بقيمة "+s(e.price)+" د.ل من هذه الطلبية. لا يمكن التراجع عن هذه العملية. ",1)]),_:2},1024),a(R,null,{default:o(()=>[a(z),a(n,{text:"لا",onClick:v=>r.value=!1},null,8,["onClick"]),a(n,{text:"نعم",onClick:v=>r.value=!1},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["title"])]),_:2},1024)])]))),128))]),_:1},8,["order"]))}});export{re as default};
