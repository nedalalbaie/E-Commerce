import{g as I,d as q}from"./products-service-ciQlBYGG.js";import{_ as L}from"./SearchIcon.vue_vue_type_script_setup_true_lang-OmB5HGZC.js";import{_ as O,o as a,c as o,F as f,r as h,a as e,n as S,d as Q,b as V,u as T,e as z,w as A,f as u,g as d,t as i,h as p,i as t,j as n,V as _,k as M,m as R,l as P,p as K,q as J}from"./index-c8EmFYNS.js";import{u as U}from"./useQuery-diit9zOu.js";import{E as G}from"./EditIcon-BJpHZX_A.js";import{_ as H}from"./DeleteIcon.vue_vue_type_script_setup_true_lang-19TRQ0DL.js";import{E as W}from"./EmptyData--rZd-08i.js";import{V as X,a as Y,b as Z,c as ee}from"./VDialog-wyLMp0R1.js";import{V as te}from"./VSpacer-LceoUdPZ.js";import"./queryString-AL1HqB06.js";import"./formData-AERYmAuJ.js";import"./createSimpleFunctional-gvfQdlSX.js";import"./VAvatar-_g8D_ewF.js";const se={},ae={class:"grid grid-cols-productsCards gap-4"};function oe($,v){return a(),o("div",ae,[(a(),o(f,null,h(4,l=>e("div",{key:l,class:"rounded-lg bg-white dark:bg-[#363636] shadow-lg dark:shadow-full-dark p-4 mt-7"},[(a(),o(f,null,h(4,m=>e("div",{key:m,class:S([m>1?"mt-5":"","skeleton w-full h-9 rounded-lg"])},null,2)),64))])),64))])}const re=O(se,[["render",oe]]);var le={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ne={class:"min-h-[calc(100vh-80px)] flex flex-col"},de={class:"text-3xl"},ce={key:0},ie={key:0,class:"flex justify-between items-center bg-[#FCF2EA] rounded-xl py-1 px-4"},ue=e("input",{placeholder:"إبحث عن منتجات",type:"text",class:"w-56 border-none p-2 rounded-lg outline-none transition-all duration-100 placeholder:text-gray-700"},null,-1),pe={key:0},_e={key:1,class:"mt-6 flex-grow flex flex-col justify-center"},me={class:"grid grid-cols-productsCards gap-x-4 gap-y-8"},ge={class:"text-xl text-center"},fe=e("p",{class:"absolute top-0 left-0 bg-red-600 rounded-br-xl text-white px-3"}," 20% ",-1),he={class:"absolute bottom-0 right-0 bg-gray-600 rounded-tl-xl text-white px-3 py-2"},ve={class:"mt-4 flex items-center border-b border-gray-700 pb-1"},xe=e("p",{class:"w-1/2"}," الوصف ",-1),ye={class:"w-1/2 text-center"},be=J('<div class="mt-4 flex items-center border-b border-gray-700"><p class="w-1/2"> التصنيف </p><p class="w-1/2 text-center"> سرير </p></div><div class="mt-4 flex items-center border-b border-gray-700"><p class="w-1/2"> الجنس </p><p class="w-1/2 text-center"> -- </p></div>',2),we={class:"mt-4 py-1 flex items-center border-b border-gray-700"},ke={class:"w-1/5"},Ce={class:"w-4/5 flex justify-end gap-1"},Ee={class:"mt-4 flex items-center border-b border-gray-700"},Ve=e("p",{class:"w-1/2"}," الكمية ",-1),Pe={class:"w-1/2 text-center"},Se=e("div",{class:"mt-4 flex items-center border-b border-gray-700"},[e("p",{class:"w-1/2"}," الحجم "),e("p",{class:"w-1/2 text-center"}," 90*110 سم ")],-1),$e={class:"flex justify-center gap-4 mt-6 text-white"},Me=Q({__name:"ProductsList",setup($){const v=V({page:1,limit:10,productName:void 0,category_id:void 0}),l=U({queryKey:["products",v],queryFn:()=>I(v.value)}),m=le.VITE_API_Storage,y=V(null),j=s=>{const g=new Image;return g.src="https://ourtechteam2024.store/public/storage/product/202402291805t-shirt.jpg",g.onload=()=>{console.log(g.height)},{backgroundImage:`url(${m}/${s})`}},b=s=>JSON.parse(s),B=T(),F=z({mutationFn:q,onSuccess:()=>{B.invalidateQueries({queryKey:["products"]})},onError:s=>{console.log(s)}}),D=s=>{F.mutate(s)},N=s=>`حذف المنتج ${s}# ?`;return A(()=>{var s;console.log((s=y.value)==null?void 0:s.style)}),(s,g)=>{var w,k,C,E;return a(),o("div",ne,[e("h1",de,[u(" المنتجات "),((w=d(l).data.value)==null?void 0:w.data.length)>0?(a(),o("span",ce,"( "+i((k=d(l).data.value)==null?void 0:k.data.length)+" )",1)):p("",!0)]),e("div",{ref_key:"upperElement",ref:y,class:S(["flex items-center mt-6",((C=d(l).data.value)==null?void 0:C.data.length)===0?"justify-end":"justify-between"])},[((E=d(l).data.value)==null?void 0:E.data.length)!==0?(a(),o("div",ie,[ue,t(L,{"custom-style":"w-6 h-6"})])):p("",!0),t(_,{"append-icon":d(R),to:{name:"add-product"},color:"primary",size:"large",rounded:"xl",variant:"elevated"},{default:n(()=>[u(" إضافة منتج ")]),_:1},8,["append-icon"])],2),d(l).data.value?p("",!0):(a(),o("div",pe,[t(re)])),d(l).data.value?(a(),o("div",_e,[d(l).data.value.data.length===0?(a(),M(W,{key:0})):p("",!0),e("div",me,[(a(!0),o(f,null,h(d(l).data.value.data,r=>(a(),o("div",{key:r.id,class:"bg-white shadow-lg rounded-lg p-4"},[e("p",ge,i(r.name),1),e("div",{class:"relative h-64 bg-cover bg-center mt-2",style:P(j(r.image1_path))},[fe,e("p",he,i(r.price)+" دل ",1)],4),e("div",ve,[xe,e("p",ye,i(r.description),1)]),be,e("div",we,[e("p",ke,i(b(r.hex_codes).length>1?"الألوان":"اللون"),1),e("div",Ce,[(a(!0),o(f,null,h(b(r.hex_codes),(c,x)=>(a(),o("div",{key:x,class:"w-8 h-8 rounded-[50%] shadow-full-white border-2 flex items-end",style:P({"background-color":c})},null,4))),128))])]),e("div",Ee,[Ve,e("p",Pe,i(r.inventory_level),1)]),Se,e("div",$e,[t(_,{rounded:"xl",variant:"elevated",color:"primary",to:{name:"edit-product",params:{id:r.id}}},{prepend:n(()=>[t(G)]),default:n(()=>[u(" تعديل ")]),_:2},1032,["to"]),t(ee,{width:"500"},{activator:n(({props:c})=>[t(_,K(c,{rounded:"xl",variant:"elevated",color:"#004C6B",type:"submit"}),{prepend:n(()=>[t(H,{fill:"fill-white"})]),default:n(()=>[u(" إلغاء ")]),_:2},1040)]),default:n(({isActive:c})=>[t(X,{title:N(r.product_code),rounded:"lg",color:"#EFE9F5",style:{"padding-block":"1.75rem !important"}},{default:n(()=>[t(Y,null,{default:n(()=>[u(" سيتم حذف هذه المنتج بشكل نهائي . ")]),_:1}),t(Z,null,{default:n(()=>[t(te),t(_,{text:"لا",onClick:x=>c.value=!1},null,8,["onClick"]),t(_,{text:"نعم",onClick:x=>{c.value=!1,D(r.id)}},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["title"])]),_:2},1024)])]))),128))])])):p("",!0)])}}});export{Me as default};
